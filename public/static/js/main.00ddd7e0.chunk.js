(this["webpackJsonpm3-client"]=this["webpackJsonpm3-client"]||[]).push([[0],{116:function(e,t,n){},118:function(e,t,n){},119:function(e,t,n){},120:function(e,t,n){},139:function(e,t,n){},234:function(e,t,n){},235:function(e,t,n){},236:function(e,t,n){},237:function(e,t,n){},238:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(84),i=n.n(c),s=n(7),o=n(2),l=n(3),u=n(5),d=n(4),h=(n(92),n(8)),j=n(6),p=(n(93),n(20)),b=n(11),g=n.n(b),m=new(function(){function e(){Object(o.a)(this,e),this.auth=g.a.create({baseURL:"https://gastro-experience.herokuapp.com",withCredentials:!0})}return Object(l.a)(e,[{key:"signup",value:function(e,t,n,r,a,c,i,s,o){return this.auth.post("/auth/signup",{firstName:e,lastName:t,email:n,password:r,phone:a,street:c,city:i,postCode:s,profilePic:o}).then((function(e){return e.data})).catch((function(e){return console.log("auth-service - signup error => ",e)}))}},{key:"login",value:function(e,t){return this.auth.post("/auth/login",{email:e,password:t}).then((function(e){return e.data})).catch((function(e){return console.log("auth-service - login error => ",e)}))}},{key:"logout",value:function(){return this.auth.get("/auth/logout").then((function(e){return e.data})).catch((function(e){return console.log("auth-service - logout error => ",e)}))}},{key:"me",value:function(){return this.auth.get("/auth/me").then((function(e){return e.data})).catch((function(e){return console.log("auth-service - me error => ",e)}))}}]),e}()),f=n(0),O=a.a.createContext(),v=O.Consumer,x=O.Provider,y=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={isLoggedIn:!1,isAdmin:!1,isLoading:!0,user:null},e.signup=function(t,n,r,a,c,i,s,o,l,u){m.signup(t,n,r,a,c,i,s,o,l,u).then((function(t){"client"===t.role?e.setState({user:t,isLoggedIn:!0,isAdmin:!1}):e.setState({user:t,isLoggedIn:!0,isAdmin:!0})})).catch((function(e){console.log("auth-context - signup error => ",e)}))},e.login=function(t,n){m.login(t,n).then((function(t){"client"===t.role?e.setState({user:t,isLoggedIn:!0,isAdmin:!1}):e.setState({user:t,isLoggedIn:!0,isAdmin:!0})})).catch((function(e){console.log("auth-context - login error => ",e)}))},e.logout=function(){m.logout().then((function(){return e.setState({isLoggedIn:!1,user:null})})).catch((function(e){return console.log("auth-context - logout error => ",e)}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;m.me().then((function(t){"client"===t.role?e.setState({user:t,isLoggedIn:!0,isAdmin:!1,isLoading:!1}):e.setState({user:t,isLoggedIn:!0,isAdmin:!0,isLoading:!1})})).catch((function(t){e.setState({isLoggedIn:!1,user:null,isLoading:!1}),console.log("auth-context - DidMount error => ",t)}))}},{key:"render",value:function(){var e=this.state,t=e.isLoggedIn,n=e.isAdmin,r=e.isLoading,a=e.user,c=this.signup,i=this.login,s=this.logout;return r?Object(f.jsx)("p",{children:"Loading"}):Object(f.jsx)(x,{value:{isLoggedIn:t,isAdmin:n,isLoading:r,user:a,signup:c,login:i,logout:s},children:this.props.children})}}]),n}(a.a.Component),k=function(e){return function(t){return Object(f.jsx)(v,{children:function(n){var r=n.isLoggedIn,a=n.isAdmin,c=n.isLoading,i=n.user,s=n.signup,o=n.login,l=n.logout;return Object(f.jsx)(e,Object(p.a)({isLoggedIn:r,isAdmin:a,isLoading:c,user:i,signup:s,login:o,logout:l},t))}})}},C=k(function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={username:"",password:""},e.handleFormSubmit=function(t){t.preventDefault();var n=e.state,r=n.username,a=n.password;e.props.login(r,a)},e.handleChange=function(t){var n=t.target,r=n.name,a=n.value;e.setState(Object(j.a)({},r,a))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.state,t=e.username,n=e.password;return Object(f.jsx)("div",{className:"flex",children:Object(f.jsxs)("form",{className:"login-form",onSubmit:this.handleFormSubmit,children:[Object(f.jsx)("label",{children:"Username:"}),Object(f.jsx)("input",{type:"text",name:"username",value:t,onChange:this.handleChange}),Object(f.jsx)("label",{children:"Password:"}),Object(f.jsx)("input",{type:"password",name:"password",value:n,onChange:this.handleChange}),Object(f.jsx)("input",{type:"submit",value:"Login"})]})})}}]),n}(r.Component)),S=k(function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={firstName:"",lastName:"",email:"",password:"",phone:"",street:"",city:"",postCode:0,profilePic:""},e.handleFormSubmit=function(t){t.preventDefault();var n=e.state,r=n.firstName,a=n.lastName,c=n.email,i=n.password,s=n.phone,o=n.street,l=n.city,u=n.postCode,d=n.profilePic;e.props.signup(r,a,c,i,s,o,l,u,d)},e.handleChange=function(t){var n=t.target,r=n.name,a=n.value;e.setState(Object(j.a)({},r,a))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.state,t=e.firstName,n=e.lastName,r=e.email,a=e.password,c=e.phone,i=e.street,o=e.city,l=e.postCode,u=e.profilePic;return Object(f.jsxs)("div",{children:[Object(f.jsx)("h1",{children:"Sign Up"}),Object(f.jsxs)("form",{onSubmit:this.handleFormSubmit,children:[Object(f.jsx)("label",{children:"First name:"}),Object(f.jsx)("input",{type:"text",name:"firstName",value:t,onChange:this.handleChange}),Object(f.jsx)("label",{children:"Last name:"}),Object(f.jsx)("input",{type:"text",name:"lastName",value:n,onChange:this.handleChange}),Object(f.jsx)("label",{children:"Phone:"}),Object(f.jsx)("input",{type:"text",name:"phone",value:c,onChange:this.handleChange}),Object(f.jsx)("label",{children:"Street:"}),Object(f.jsx)("input",{type:"text",name:"street",value:i,onChange:this.handleChange}),Object(f.jsx)("label",{children:"City:"}),Object(f.jsx)("input",{type:"text",name:"city",value:o,onChange:this.handleChange}),Object(f.jsx)("label",{children:"Post code:"}),Object(f.jsx)("input",{type:"number",name:"postCode",value:l,onChange:this.handleChange}),Object(f.jsx)("label",{children:"Profile picture:"}),Object(f.jsx)("input",{type:"text",name:"profilePic",value:u,onChange:this.handleChange}),Object(f.jsx)("label",{children:"Email:"}),Object(f.jsx)("input",{type:"email",name:"email",value:r,onChange:this.handleChange}),Object(f.jsx)("label",{children:"Password:"}),Object(f.jsx)("input",{type:"password",name:"password",value:a,onChange:this.handleChange}),Object(f.jsx)("input",{type:"submit",value:"Signup"})]}),Object(f.jsx)("p",{children:"Already have account?"}),Object(f.jsx)(s.b,{to:"/login",children:" Login"})]})}}]),n}(r.Component)),A=k(function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(f.jsxs)("div",{children:[Object(f.jsx)("h1",{children:"Profile Route"}),Object(f.jsxs)("h2",{children:["Welcome ",this.props.user&&this.props.user.username]})]})}}]),n}(r.Component)),w=new(function(){function e(){Object(o.a)(this,e),this.brandApi=g.a.create({baseURL:"".concat("https://gastro-experience.herokuapp.com","/api/brands"),withCredentials:!0})}return Object(l.a)(e,[{key:"createBrand",value:function(e,t){return this.brandApi.post("/create",{name:e,nameUrl:t}).then((function(e){return e.data})).catch((function(e){return console.log("brand-service - createBrand error => ",e)}))}},{key:"getAllBrands",value:function(){return this.brandApi.get("/").then((function(e){return e.data})).catch((function(e){return console.log("brand-service - getAllBrands error => ",e)}))}},{key:"getBrandById",value:function(e){return this.brandApi.get("/".concat(e)).then((function(e){return e.data})).catch((function(e){return console.log("brand-service - getBrandById error => ",e)}))}},{key:"updateBrand",value:function(e,t,n){return this.brandApi.post("/update/".concat(e),{name:t,nameUrl:n}).then((function(e){return e.data})).catch((function(e){return console.log("brand-service - updateBrand error => ",e)}))}},{key:"deleteBrand",value:function(e){return this.brandApi.get("/delete/".concat(e)).then((function(e){return e.data})).catch((function(e){return console.log("brand-service - deleteBrand error => ",e)}))}},{key:"getBrandByNameUrl",value:function(e){return this.brandApi.get("/name/".concat(e)).then((function(e){return e.data})).catch((function(e){return console.log("brand-service - getBrandByNameUrl error => ",e)}))}}]),e}()),I=(n(116),function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={brands:[],isReady:!1},e.loadAllBrands=function(){w.getAllBrands().then((function(t){t&&e.setState({brands:t,isReady:!0})}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.loadAllBrands()}},{key:"render",value:function(){var e=this.state,t=e.brands;return e.isReady?Object(f.jsxs)("div",{children:[Object(f.jsx)("h1",{children:"What would you like to eat today?"}),Object(f.jsx)("div",{className:"wrapper",children:t.map((function(e){return Object(f.jsx)("div",{className:"brand-card",children:Object(f.jsx)(s.b,{to:"/".concat(e.nameUrl),children:Object(f.jsx)("img",{className:"logos",src:e.brandPic,alt:"brandPic"})})},e._id)}))}),Object(f.jsx)("footer",{children:"Dark Manager 2021"})]}):Object(f.jsx)("h2",{children:"Loading"})}}]),n}(r.Component)),N=n(9),P=n.n(N),B=n(15),U=new(function(){function e(){Object(o.a)(this,e),this.recipeApi=g.a.create({baseURL:"".concat("https://gastro-experience.herokuapp.com","/api/recipes"),withCredentials:!0})}return Object(l.a)(e,[{key:"createRecipe",value:function(e,t,n,r,a,c){return this.recipeApi.post("/create",{name:e,brandId:t,price:n,ingredients:r,recipePackaging:a,picture:c}).then((function(e){return e.data})).catch((function(e){return console.log("recipe-service - createRecipe error => ",e)}))}},{key:"getAllRecipes",value:function(){return this.recipeApi.get("/").then((function(e){return e.data})).catch((function(e){return console.log("recipe-service - getAllRecipes error => ",e)}))}},{key:"getRecipeById",value:function(e){return this.recipeApi.get("/".concat(e)).then((function(e){return e.data})).catch((function(e){return console.log("recipe-service - getRecipeById error => ",e)}))}},{key:"updateRecipe",value:function(e,t,n,r,a,c,i){return this.recipeApi.post("/update/".concat(e),{name:t,brandId:n,price:r,ingredients:a,recipePackaging:c,picture:i}).then((function(e){return e.data})).catch((function(e){return console.log("recipe-service - updateRecipe error => ",e)}))}},{key:"deleteRecipe",value:function(e){return this.recipeApi.get("/delete/".concat(e)).then((function(e){return e.data})).catch((function(e){return console.log("recipe-service - deleteRecipe error => ",e)}))}},{key:"getRecipeByBrandId",value:function(e){return this.recipeApi.get("/brandId/".concat(e)).then((function(e){return e.data})).catch((function(e){return console.log("recipe-service - getRecipeByBrandId error => ",e)}))}}]),e}()),_=new(function(){function e(){Object(o.a)(this,e),this.userApi=g.a.create({baseURL:"".concat("https://gastro-experience.herokuapp.com","/api/users"),withCredentials:!0})}return Object(l.a)(e,[{key:"createUser",value:function(e,t,n,r,a,c,i,s,o,l){return this.userApi.post("/create",{role:e,firstName:t,lastName:n,email:r,password:a,phone:c,street:i,city:s,postCode:o,profilePic:l}).then((function(e){return e.data})).catch((function(e){return console.log("user-service - createUser error => ",e)}))}},{key:"getAllUsers",value:function(){return this.userApi.get("/").then((function(e){return e.data})).catch((function(e){return console.log("user-service - getAllUsers error => ",e)}))}},{key:"getUserById",value:function(e){return this.userApi.get("/".concat(e)).then((function(e){return e.data})).catch((function(e){return console.log("user-service - getUserById error => ",e)}))}},{key:"updateUser",value:function(e,t,n,r,a,c,i,s){return this.userApi.post("/update/".concat(e),{firstName:t,lastName:n,phone:r,street:a,city:c,postCode:i,profilePic:s}).then((function(e){return e.data})).catch((function(e){return console.log("user-service - updateUser error => ",e)}))}},{key:"deleteUser",value:function(e){return this.userApi.get("/delete/".concat(e)).then((function(e){return e.data})).catch((function(e){return console.log("user-service - deleteUser error => ",e)}))}},{key:"addToCart",value:function(e){return this.userApi.post("/addToCart",{recipeId:e}).then((function(e){return e.data})).catch((function(e){return console.log("user-service - addToCart error => ",e)}))}},{key:"deleteFromCart",value:function(e){return this.userApi.post("/deleteFromCart",{recipeId:e}).then((function(e){return e.data})).catch((function(e){return console.log("user-service - deleteFromCart error => ",e)}))}}]),e}()),D=new(function(){function e(){Object(o.a)(this,e),this.orderApi=g.a.create({baseURL:"".concat("https://gastro-experience.herokuapp.com","/api/orders"),withCredentials:!0})}return Object(l.a)(e,[{key:"createOrder",value:function(e,t){return this.orderApi.post("/create",{clientId:e,cart:t}).then((function(e){return e.data})).catch((function(e){return console.log("order-service - createOrder error => ",e)}))}},{key:"getAllOrders",value:function(){return this.orderApi.get("/").then((function(e){return e.data})).catch((function(e){return console.log("order-service - getAllOrders error => ",e)}))}},{key:"getAllOrdersPopulated",value:function(){return this.orderApi.get("/populated").then((function(e){return e.data})).catch((function(e){return console.log("order-service - getAllOrdersPopulated error => ",e)}))}},{key:"getOrderById",value:function(e){return this.orderApi.get("/".concat(e)).then((function(e){return e.data})).catch((function(e){return console.log("order-service - getOrderById error => ",e)}))}},{key:"updateOrder",value:function(e,t,n,r,a,c,i,s){return this.orderApi.post("/update/".concat(e),{value:t,stage:n,clientId:r,orderPackaging:a,recipes:c,deliveredBy:i,cookedBy:s}).then((function(e){return e.data})).catch((function(e){return console.log("order-service - updateOrder error => ",e)}))}},{key:"updateStageOrder",value:function(e,t,n){return this.orderApi.post("/update-stage/".concat(e),{stage:t,userId:n}).then((function(e){return e.data})).catch((function(e){return console.log("order-service - updateStageOrder error => ",e)}))}},{key:"deleteOrder",value:function(e){return this.orderApi.get("/delete/".concat(e)).then((function(e){return e.data})).catch((function(e){return console.log("order-service - deleteOrder error => ",e)}))}}]),e}()),R=k(function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={brand:{},recipes:[],cart:[]},e.loadBrandAndRecipes=function(){console.log("loading brand and recipes_______");var t=e.props.match.params.nameUrl;w.getBrandByNameUrl(t).then((function(t){U.getRecipeByBrandId(t._id).then((function(n){console.log("estamos dentro del recipeService.getRecipeByBrandId"),console.log("recipes",n),e.setState({recipes:n,brand:t})}))}))},e.loadCurrentUser=function(){var t=e.props.user._id;_.getUserById(t).then((function(t){e.setState({cart:t.currentCart})}))},e.handleAddClick=function(){var t=Object(B.a)(P.a.mark((function t(n){return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.addToCart(n);case 2:e.loadCurrentUser();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleDeleteClick=function(){var t=Object(B.a)(P.a.mark((function t(n){return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.deleteFromCart(n);case 2:e.loadCurrentUser();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleOrderClick=function(){var t=e.props.user._id,n=e.state.cart;n.length>0&&D.createOrder(t,n).then((function(){e.loadCurrentUser()}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.loadBrandAndRecipes(),this.props.user&&this.loadCurrentUser()}},{key:"render",value:function(){var e=this,t=this.state,n=t.brand,r=t.recipes,a=t.cart;return Object(f.jsxs)("div",{className:"main",children:[Object(f.jsxs)("div",{className:"brands",children:[Object(f.jsxs)("h1",{children:["Welcome to ",n.name," !"]}),Object(f.jsxs)("div",{className:"menu-card",children:[Object(f.jsx)("h1",{children:"Menu"}),this.props.user?Object(f.jsx)("div",{children:r.map((function(t){return Object(f.jsx)("div",{children:Object(f.jsxs)("div",{className:"recipe-card",children:[Object(f.jsx)("h2",{children:t.name}),Object(f.jsx)("button",{onClick:function(){e.handleAddClick(t._id)},children:Object(f.jsx)("img",{className:"logos",src:t.picture,alt:"recipe"})})]})},t._id)}))}):Object(f.jsx)("div",{children:r.map((function(e){return Object(f.jsx)("div",{children:Object(f.jsx)("div",{className:"recipe-card",children:Object(f.jsxs)(s.b,{to:"/login",children:[Object(f.jsx)("h2",{children:e.name}),Object(f.jsx)("img",{className:"logos",src:e.picture,alt:"recipe"})]})})},e._id)}))})]})]}),Object(f.jsxs)("div",{children:[a.length>0?Object(f.jsx)(f.Fragment,{}):Object(f.jsx)("h2",{children:"Your cart is empty    (\u2323\u0301_\u2323\u0300) "}),Object(f.jsxs)("div",{className:a.length>0?"cart":"hi",children:[a.length>0?Object(f.jsx)("h2",{children:"Your cart "}):Object(f.jsx)(f.Fragment,{}),a.map((function(t){return Object(f.jsx)("div",{children:Object(f.jsxs)("div",{className:"recipe-card",children:[Object(f.jsxs)("h2",{children:[t.recipeId.name," - ",t.quantity]}),Object(f.jsx)("img",{className:"logos",src:t.recipeId.picture,alt:"recipe"}),Object(f.jsx)("button",{onClick:function(){e.handleDeleteClick(t.recipeId._id)},children:"Remove"})]})},t.recipeId._id)})),a.length>0?Object(f.jsx)(s.b,{to:"/checkout",children:Object(f.jsx)("button",{onClick:function(){e.handleOrderClick()},children:"Proceed to checkout"})}):Object(f.jsx)(f.Fragment,{children:" "})]})]}),Object(f.jsx)("footer",{children:"Dark Manager 2021"})]},n._id)}}]),n}(r.Component)),L=k(function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={user:{}},e.loadCurrentUser=function(){var t=e.props.user._id;_.getUserById(t).then((function(t){e.setState({user:t})}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.loadCurrentUser()}},{key:"render",value:function(){return console.log("first name",this.props.user._id),Object(f.jsx)("div",{children:Object(f.jsxs)("div",{className:"checkout",children:[Object(f.jsx)("h1",{children:"Thank you!"}),Object(f.jsx)("h2",{children:"your order has been processed"}),Object(f.jsx)(s.b,{to:"/",children:Object(f.jsx)("h2",{children:"Return to main page"})})]})})}}]),n}(r.Component)),F=(n(118),function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={services:["orders","stock","stats","create"]},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.state.services;return Object(f.jsxs)("div",{className:"services",children:[e.map((function(e){return Object(f.jsx)("div",{className:"title",children:Object(f.jsx)(s.b,{className:"title-link",to:"/dark-manager/".concat(e),children:Object(f.jsx)("h2",{className:"title-text",children:e.toUpperCase()})})},e)})),Object(f.jsx)("footer",{children:"Dark Manager 2021"})]})}}]),n}(r.Component)),M=(n(119),n(19)),E=(n(37),k(function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={allOrders:[]},e.handleDelete=function(){var t=Object(B.a)(P.a.mark((function t(n){var r,a;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.target.id,t.next=3,D.deleteOrder(r);case 3:a=Object(M.a)(e.state.allOrders).filter((function(e){return String(e._id)!==r})),e.setState({allOrders:a});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleStage=function(){var t=Object(B.a)(P.a.mark((function t(n){var r,a,c,i;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.target,a=r.id,c=r.value,t.next=3,D.updateStageOrder(a,c);case 3:i=Object(M.a)(e.state.allOrders).filter((function(e){return String(e._id)!==a})),e.setState({allOrders:i});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.loadAllOrders=function(){D.getAllOrdersPopulated().then((function(t){if(t){var n=t.filter((function(e){return"New"===e.stage}));e.setState({allOrders:n})}}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.loadAllOrders()}},{key:"render",value:function(){var e=this,t=this.state.allOrders;return Object(f.jsxs)("div",{className:"order-display",children:[Object(f.jsx)("label",{children:"New orders:"}),t.map((function(t){return Object(f.jsxs)("div",{children:[Object(f.jsxs)("h3",{children:[t.clientId.name.firstName," ",t.clientId.name.lastName," -"," ",t._id]}),Object(f.jsx)("p",{}),Object(f.jsxs)("div",{className:"flex",children:[Object(f.jsx)("button",{id:t._id,onClick:e.handleDelete,children:"<-- Delete order"}),Object(f.jsx)("button",{id:t._id,value:"Cooking",onClick:e.handleStage,children:"Move to cooking --\x3e"})]})]},t._id)}))]})}}]),n}(r.Component))),K=k(function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={allOrders:[]},e.handleDelete=function(){var t=Object(B.a)(P.a.mark((function t(n){var r,a;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.target.id,t.next=3,D.deleteOrder(r);case 3:a=Object(M.a)(e.state.allOrders).filter((function(e){return String(e._id)!==r})),e.setState({allOrders:a});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleStage=function(){var t=Object(B.a)(P.a.mark((function t(n){var r,a,c,i,s;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.target,a=r.id,c=r.value,i=e.props.user._id,t.next=4,D.updateStageOrder(a,c,i);case 4:s=Object(M.a)(e.state.allOrders).filter((function(e){return String(e._id)!==a})),e.setState({allOrders:s});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.loadAllOrders=function(){D.getAllOrdersPopulated().then((function(t){if(t){var n=t.filter((function(e){return"Cooking"===e.stage}));e.setState({allOrders:n})}}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.loadAllOrders()}},{key:"render",value:function(){var e=this,t=this.state.allOrders;return Object(f.jsxs)("div",{className:"order-display",children:[Object(f.jsx)("label",{children:"Cooking orders:"}),t.map((function(t){return Object(f.jsxs)("div",{children:[Object(f.jsxs)("h3",{children:[t.clientId.name.firstName," ",t.clientId.name.lastName," -"," ",t._id]}),Object(f.jsx)("p",{}),Object(f.jsxs)("div",{className:"flex",children:[Object(f.jsx)("button",{id:t._id,value:"New",onClick:e.handleStage,children:"<-- Move to new order"}),Object(f.jsx)("button",{id:t._id,onClick:e.handleDelete,children:"Delete order"}),Object(f.jsx)("button",{id:t._id,value:"Delivery",onClick:e.handleStage,children:"Move to delivery --\x3e"})]})]},t._id)}))]})}}]),n}(r.Component)),q=(n(120),n(21)),T=n.n(q),W=n(86);T.a.workerClass=W.a,T.a.accessToken="pk.eyJ1IjoiYWxlaXhiYWRpYSIsImEiOiJja20zYmI3emgyZzEzMm9vNng1dGE0ZHlnIn0.lns4HkC-kSmLr9YCZpiG3g";var z=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(o.a)(this,n),(r=t.call(this,e)).state={lng:2.0195,lat:41.5633,zoom:12},r.mapContainer=a.a.createRef(),r.cooking=r.props.cooking,r.delivery=r.props.delivery,r}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.state,n=t.lng,r=t.lat,a=t.zoom,c=new T.a.Map({container:this.mapContainer.current,style:"mapbox://styles/mapbox/streets-v11",center:[n,r],zoom:a});console.log(this.props.cooking),this.props.cooking.forEach((function(e){var t=(new T.a.Popup).setText("".concat(e.name)).addTo(c);new T.a.Marker({color:"#FF0000"}).setLngLat(e.coordinates).addTo(c).setPopup(t)})),this.props.delivery.forEach((function(e){var t=(new T.a.Popup).setText("".concat(e.name)).addTo(c);new T.a.Marker({color:"#00ff00"}).setLngLat(e.coordinates).addTo(c).setPopup(t)})),c.on("move",(function(){e.setState({lng:c.getCenter().lng.toFixed(4),lat:c.getCenter().lat.toFixed(4),zoom:c.getZoom().toFixed(2)})}))}},{key:"render",value:function(){return Object(f.jsx)("div",{children:Object(f.jsx)("div",{ref:this.mapContainer,className:"map-container"})})}}]),n}(r.Component),Y=k(function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={deliveryOrders:[],cookingOrders:[],cooking:[],delivery:[]},e.handleDelete=function(){var t=Object(B.a)(P.a.mark((function t(n){var r,a;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.target.id,t.next=3,D.deleteOrder(r);case 3:a=Object(M.a)(e.state.deliveryOrders).filter((function(e){return String(e._id)!==r})),e.setState({deliveryOrders:a});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleStage=function(){var t=Object(B.a)(P.a.mark((function t(n){var r,a,c,i,s;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.target,a=r.id,c=r.value,i=e.props.user._id,t.next=4,D.updateStageOrder(a,c,i);case 4:s=Object(M.a)(e.state.deliveryOrders).filter((function(e){return String(e._id)!==a})),e.setState({deliveryOrders:s});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.loadAllOrders=function(){D.getAllOrdersPopulated().then((function(t){if(t){var n=t.filter((function(e){return"Delivery"===e.stage})),r=t.filter((function(e){return"Cooking"===e.stage})),a=[],c=[];n.forEach((function(e){a.push({name:"".concat(e.clientId.name.firstName," ").concat(e.clientId.name.lastName),coordinates:e.clientId.location})})),r.forEach((function(e){c.push({name:"".concat(e.clientId.name.firstName," ").concat(e.clientId.name.lastName),coordinates:e.clientId.location})})),e.setState({deliveryOrders:n,cookingOrders:r,delivery:c,cooking:a})}}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.loadAllOrders()}},{key:"render",value:function(){var e=this,t=this.state,n=t.deliveryOrders,r=t.cooking,a=t.delivery;return console.log(r),Object(f.jsxs)("div",{className:"order-display",children:[Object(f.jsx)("label",{children:"Delivery orders:"}),n.map((function(t){return Object(f.jsxs)("div",{children:[Object(f.jsxs)("h3",{children:[t.clientId.name.firstName," ",t.clientId.name.lastName," -"," ",t._id]}),Object(f.jsx)("p",{}),Object(f.jsxs)("div",{className:"flex",children:[Object(f.jsx)("button",{id:t._id,value:"Cooking",onClick:e.handleStage,children:"<-- Move to cooking"}),Object(f.jsx)("button",{id:t._id,onClick:e.handleDelete,children:"Delete order"}),Object(f.jsx)("button",{id:t._id,value:"Done",onClick:e.handleStage,children:"Move to done --\x3e"})]})]},t._id)})),r.length>0||a.length>0?Object(f.jsx)(z,{cooking:r,delivery:a}):Object(f.jsx)(f.Fragment,{})]})}}]),n}(r.Component)),Z=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={stages:["new","cooking","delivery"],newShow:!1,cookingShow:!1,deliveryShow:!1},e.handleClick=function(t){var n=t.target.name;e.setState({newShow:!1,cookingShow:!1,deliveryShow:!1}),e.setState(Object(j.a)({},n,!e.state[n]))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.stages,r=t.newShow,a=t.cookingShow,c=t.deliveryShow;return Object(f.jsxs)("div",{className:"orders",children:[Object(f.jsx)("div",{className:"stages",children:n.map((function(t){return Object(f.jsx)("button",{className:"title",onClick:e.handleClick,name:"".concat(t,"Show"),children:t.toUpperCase()},t)}))}),r?Object(f.jsx)(E,{}):Object(f.jsx)(f.Fragment,{}),a?Object(f.jsx)(K,{}):Object(f.jsx)(f.Fragment,{}),c?Object(f.jsx)(Y,{}):Object(f.jsx)(f.Fragment,{}),Object(f.jsx)("footer",{children:"Dark Manager 2021"})]})}}]),n}(r.Component),J=new(function(){function e(){Object(o.a)(this,e),this.ingredientApi=g.a.create({baseURL:"".concat("https://gastro-experience.herokuapp.com","/api/ingredients"),withCredentials:!0})}return Object(l.a)(e,[{key:"createIngredient",value:function(e,t,n,r){return this.ingredientApi.post("/create",{name:e,currentStock:t,minimum:n,priceKg:r}).then((function(e){return e.data})).catch((function(e){return console.log("ingredient-service - createIngredient error => ",e)}))}},{key:"getAllIngredients",value:function(){return this.ingredientApi.get("/").then((function(e){return e.data})).catch((function(e){return console.log("ingredient-service - getAllIngredients error => ",e)}))}},{key:"getIngredientById",value:function(e){return this.ingredientApi.get("/".concat(e)).then((function(e){return e.data})).catch((function(e){return console.log("ingredient-service - getIngredientById error => ",e)}))}},{key:"updateIngredient",value:function(e,t,n,r,a){return this.ingredientApi.post("/update/".concat(e),{name:t,currentStock:n,minimum:r,priceKg:a}).then((function(e){return e.data})).catch((function(e){return console.log("ingredient-service - updateIngredient error => ",e)}))}},{key:"deleteUser",value:function(e){return this.ingredientApi.get("/delete/".concat(e)).then((function(e){return e.data})).catch((function(e){return console.log("ingredient-service - deleteIngredient error => ",e)}))}}]),e}()),G=(n(139),k(function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={ingredients:[],isReady:!1},e.loadAllIngredients=function(){J.getAllIngredients().then((function(t){t&&e.setState({ingredients:t,isReady:!0})}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.loadAllIngredients()}},{key:"render",value:function(){var e=this.state,t=e.ingredients;return e.isReady?(console.log(t),Object(f.jsxs)("div",{children:[Object(f.jsx)("h1",{children:"Current stock:"}),Object(f.jsx)("div",{children:Object(f.jsxs)("table",{children:[Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{children:"Ingredient"}),Object(f.jsx)("th",{children:"Current Stock"}),Object(f.jsx)("th",{children:"Minimum quantity"})]}),t.map((function(e){return Object(f.jsxs)("tr",{children:[Object(f.jsx)(s.b,{to:"/dark-manager/ingredient/".concat(e._id),children:Object(f.jsx)("td",{children:e.name})}),Object(f.jsx)("td",{className:e.currentStock<e.minimum?"red":"green",children:e.currentStock}),Object(f.jsx)("td",{children:e.minimum})]},e._id)}))]})}),Object(f.jsx)("footer",{className:"footer-class",children:"Dark Manager 2021"})]})):Object(f.jsx)("h2",{children:"Loading"})}}]),n}(r.Component))),H=n(87),X=(n(234),k(function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={data:{labels:["New","Cooking","Delivery","Done"],datasets:[{label:"Orders",backgroundColor:"rgba(75,192,192,1)",borderColor:"rgba(0,0,0,1)",borderWidth:2,data:[1]}]}},e.loadAllOrders=function(){D.getAllOrders().then((function(t){console.log("orders",t),console.log("this.state.data.datasets[0].data",e.state.data.datasets[0].data);e.state.data.datasets[0].data;var n=0,r=0,a=0,c=0;t.forEach((function(e){"New"===e.stage?n++:"Cooking"===e.stage?r++:"Delivery"===e.stage?a++:"Done"===e.stage&&c++}));var i=[];i.push(n),i.push(r),i.push(a),i.push(c);var s={labels:["New","Cooking","Delivery","Done"],datasets:[{label:"Orders",backgroundColor:"rgba(75,192,192,1)",borderColor:"rgba(0,0,0,1)",borderWidth:2,data:i}]};e.setState({data:s})})).catch((function(e){return console.log(e)}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.loadAllOrders()}},{key:"render",value:function(){return Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{className:"graph",children:Object(f.jsx)(H.Bar,{data:this.state.data,options:{title:{display:!0,text:"Current orders",fontSize:20},scales:{yAxes:[{ticks:{scaleStartValue:0,beginAtZero:!0,min:0,max:7,stepSize:1}}]}}})}),Object(f.jsx)("footer",{className:"footer-class",children:"Dark Manager 2021"})]})}}]),n}(r.Component))),V=(n(235),n(24),function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={role:"",firstName:"",lastName:"",email:"",password:"",phone:"",street:"",city:"",postCode:0,profilePic:""},e.handleFormSubmit=function(t){t.preventDefault();var n=e.state,r=n.role,a=n.firstName,c=n.lastName,i=n.email,s=n.password,o=n.phone,l=n.street,u=n.city,d=n.postCode,h=n.profilePic;_.createUser(r,a,c,i,s,o,l,u,d,h),e.setState({role:"",firstName:"",lastName:"",email:"",password:"",phone:"",street:"",city:"",postCode:0,profilePic:""})},e.handleChange=function(t){var n=t.target,r=n.name,a=n.value;e.setState(Object(j.a)({},r,a))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.state,t=e.firstName,n=e.lastName,r=e.email,a=e.password,c=e.phone,i=e.street,s=e.city,o=e.postCode,l=e.profilePic;return Object(f.jsx)("div",{className:"flex form-container",children:Object(f.jsxs)("form",{className:"form",onSubmit:this.handleFormSubmit,children:[Object(f.jsx)("label",{children:"Role:"}),Object(f.jsx)("input",{type:"radio",id:"client",name:"role",value:"client",onChange:this.handleChange}),Object(f.jsx)("label",{for:"client",children:"Client"}),Object(f.jsx)("input",{type:"radio",id:"employee",name:"role",value:"employee",onChange:this.handleChange}),Object(f.jsx)("label",{for:"employee",children:"Employee"}),Object(f.jsx)("label",{children:"First name:"}),Object(f.jsx)("input",{type:"text",name:"firstName",value:t,onChange:this.handleChange}),Object(f.jsx)("label",{children:"Last name:"}),Object(f.jsx)("input",{type:"text",name:"lastName",value:n,onChange:this.handleChange}),Object(f.jsx)("label",{children:"Phone:"}),Object(f.jsx)("input",{type:"text",name:"phone",value:c,onChange:this.handleChange}),Object(f.jsx)("label",{children:"Street:"}),Object(f.jsx)("input",{type:"text",name:"street",value:i,onChange:this.handleChange}),Object(f.jsx)("label",{children:"City:"}),Object(f.jsx)("input",{type:"text",name:"city",value:s,onChange:this.handleChange}),Object(f.jsx)("label",{children:"Post code:"}),Object(f.jsx)("input",{type:"number",name:"postCode",value:o,onChange:this.handleChange}),Object(f.jsx)("label",{children:"Profile picture:"}),Object(f.jsx)("input",{type:"text",name:"profilePic",value:l,onChange:this.handleChange}),Object(f.jsx)("label",{children:"Email:"}),Object(f.jsx)("input",{type:"email",name:"email",value:r,onChange:this.handleChange}),Object(f.jsx)("label",{children:"Password:"}),Object(f.jsx)("input",{type:"password",name:"password",value:a,onChange:this.handleChange}),Object(f.jsx)("input",{type:"submit",value:"Create user"})]})})}}]),n}(r.Component)),Q=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={name:"",nameUrl:"",brandPic:""},e.handleFormSubmit=function(t){t.preventDefault();var n=e.state,r=n.name,a=n.nameUrl,c=n.brandPic;w.createBrand(r,a,c),e.setState({name:"",nameUrl:"",brandPic:""})},e.handleChange=function(t){var n=t.target,r=n.name,a=n.value;e.setState(Object(j.a)({},r,a))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.state,t=e.name,n=e.nameUrl,r=e.brandPic;return Object(f.jsx)("div",{className:"flex form-container",children:Object(f.jsxs)("form",{className:"form",onSubmit:this.handleFormSubmit,children:[Object(f.jsx)("label",{children:"Brand name:"}),Object(f.jsx)("input",{type:"text",name:"name",value:t,onChange:this.handleChange}),Object(f.jsx)("label",{children:"Brand URL:"}),Object(f.jsx)("input",{type:"text",name:"nameUrl",value:n,onChange:this.handleChange}),Object(f.jsx)("label",{children:"Brand picture:"}),Object(f.jsx)("input",{type:"text",name:"brandPic",value:r,onChange:this.handleChange}),Object(f.jsx)("input",{type:"submit",value:"Create brand"})]})})}}]),n}(r.Component),$=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={name:"",currentStock:0,minimum:0,priceKg:0},e.handleFormSubmit=function(t){t.preventDefault();var n=e.state,r=n.name,a=n.currentStock,c=n.minimum,i=n.priceKg;J.createIngredient(r,a,c,i),e.setState({name:"",currentStock:0,minimum:0,priceKg:0})},e.handleChange=function(t){var n=t.target,r=n.name,a=n.value;e.setState(Object(j.a)({},r,a))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.state,t=e.name,n=e.currentStock,r=e.minimum,a=e.priceKg;return Object(f.jsx)("div",{className:"flex form-container",children:Object(f.jsxs)("form",{className:"form",onSubmit:this.handleFormSubmit,children:[Object(f.jsx)("label",{children:"Ingredient name:"}),Object(f.jsx)("input",{type:"text",name:"name",value:t,onChange:this.handleChange}),Object(f.jsx)("label",{children:"Current stock:"}),Object(f.jsx)("input",{type:"number",name:"currentStock",value:n,onChange:this.handleChange}),Object(f.jsx)("label",{children:"Minimum stock:"}),Object(f.jsx)("input",{type:"number",name:"minimum",value:r,onChange:this.handleChange}),Object(f.jsx)("label",{children:"Price/Kg:"}),Object(f.jsx)("input",{type:"number",name:"priceKg",value:a,onChange:this.handleChange}),Object(f.jsx)("input",{type:"submit",value:"Create ingredient"})]})})}}]),n}(r.Component),ee=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={clientId:"",cart:[],orderPackaging:[],allUsers:[],allRecipes:[]},e.handleFormSubmit=function(t){t.preventDefault();var n=e.state,r=n.clientId,a=n.cart;a=a.filter((function(e){return e.quantity>0})),console.log(a),D.createOrder(r,a)},e.handleChange=function(t){var n=t.target,r=n.name,a=n.value;e.setState(Object(j.a)({},r,a))},e.handleArrChange=function(t){var n=t.target,r=n.name,a=n.value,c=n.id,i=e.state.cart;i.forEach((function(e,t){e.recipeId._id===c&&(i[t].quantity=a)})),e.setState(Object(j.a)({},r,i))},e.loadAllUsers=function(){_.getAllUsers().then((function(t){t&&e.setState({allUsers:t})}))},e.loadAllRecipes=function(){U.getAllRecipes().then((function(t){if(t){var n=[];t.forEach((function(e){n.push({recipeId:e,quantity:0})})),e.setState({allRecipes:t,cart:n})}}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.loadAllUsers(),this.loadAllRecipes()}},{key:"render",value:function(){var e=this,t=this.state,n=t.cart,r=t.allUsers,a=t.allRecipes;return Object(f.jsx)("div",{className:"flex",children:Object(f.jsxs)("form",{className:"form",onSubmit:this.handleFormSubmit,children:[Object(f.jsxs)("div",{className:"checkboxes-list",children:[Object(f.jsxs)("div",{className:"radio",children:[Object(f.jsx)("label",{children:"Client:"}),r.map((function(t){return Object(f.jsxs)("div",{children:[Object(f.jsx)("input",{type:"radio",id:t.name.firstName,name:"clientId",value:t._id,onChange:e.handleChange}),Object(f.jsxs)("label",{for:t.name.firstName,children:[t.name.firstName," ",t.name.lastName]})]},t._id)}))]}),Object(f.jsxs)("div",{className:"radio",children:[Object(f.jsx)("label",{children:"Recipes:"}),n.map((function(t){return Object(f.jsxs)("div",{children:[Object(f.jsx)("label",{for:t.recipeId._id,children:a.find((function(e){return e._id===t.recipeId._id})).name}),Object(f.jsx)("input",{type:"number",id:t.recipeId._id,name:"cart",value:t.quantity,onChange:e.handleArrChange})]},t.recipeId._id)}))]})]}),Object(f.jsx)("input",{type:"submit",value:"Create order"})]})})}}]),n}(r.Component),te=new(function(){function e(){Object(o.a)(this,e),this.packagingApi=g.a.create({baseURL:"".concat("https://gastro-experience.herokuapp.com","/api/packagings"),withCredentials:!0})}return Object(l.a)(e,[{key:"createPackaging",value:function(e,t,n,r){return this.packagingApi.post("/create",{name:e,currentStock:t,minimum:n,price:r}).then((function(e){return e.data})).catch((function(e){return console.log("packaging-service - createPackaging error => ",e)}))}},{key:"getAllPackagings",value:function(){return this.packagingApi.get("/").then((function(e){return e.data})).catch((function(e){return console.log("packaging-service - getAllPackagings error => ",e)}))}},{key:"getPackagingById",value:function(e){return this.packagingApi.get("/".concat(e)).then((function(e){return e.data})).catch((function(e){return console.log("packaging-service - getPackagingById error => ",e)}))}},{key:"updatePackaging",value:function(e,t,n,r,a){return this.packagingApi.post("/update/".concat(e),{name:t,currentStock:n,minimum:r,price:a}).then((function(e){return e.data})).catch((function(e){return console.log("packaging-service - updateUser error => ",e)}))}},{key:"deleteUser",value:function(e){return this.packagingApi.get("/delete/".concat(e)).then((function(e){return e.data})).catch((function(e){return console.log("packaging-service - deleteUser error => ",e)}))}}]),e}()),ne=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={name:"",currentStock:0,minimum:0,price:0},e.handleFormSubmit=function(t){t.preventDefault();var n=e.state,r=n.name,a=n.currentStock,c=n.minimum,i=n.price;te.createPackaging(r,a,c,i),e.setState({name:"",currentStock:0,minimum:0,price:0})},e.handleChange=function(t){var n=t.target,r=n.name,a=n.value;e.setState(Object(j.a)({},r,a))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.state,t=e.name,n=e.currentStock,r=e.minimum,a=e.price;return Object(f.jsx)("div",{className:"flex form-container",children:Object(f.jsxs)("form",{className:"form",onSubmit:this.handleFormSubmit,children:[Object(f.jsx)("label",{children:"Packaging name:"}),Object(f.jsx)("input",{type:"text",name:"name",value:t,onChange:this.handleChange}),Object(f.jsx)("label",{children:"Current stock:"}),Object(f.jsx)("input",{type:"number",name:"currentStock",value:n,onChange:this.handleChange}),Object(f.jsx)("label",{children:"Minimum stock:"}),Object(f.jsx)("input",{type:"number",name:"minimum",value:r,onChange:this.handleChange}),Object(f.jsx)("label",{children:"Price:"}),Object(f.jsx)("input",{type:"number",name:"price",value:a,onChange:this.handleChange}),Object(f.jsx)("input",{type:"submit",value:"Create packaging"})]})})}}]),n}(r.Component),re=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={name:"",brandId:"",price:0,ingredients:[],recipePackaging:[],picture:"",allBrands:[],allIngredients:[],allPackagings:[]},e.handleFormSubmit=function(t){t.preventDefault();var n=e.state,r=n.name,a=n.brandId,c=n.price,i=n.ingredients,s=n.recipePackaging,o=n.picture;i=i.filter((function(e){return e.quantity>0})),s=s.filter((function(e){return e.quantity>0})),console.log("ingredientsCreate",i),U.createRecipe(r,a,c,i,s,o),e.setState({name:"",brandId:"",price:0,picture:""})},e.handleChange=function(t){var n=t.target,r=n.name,a=n.value;e.setState(Object(j.a)({},r,a))},e.handleArrChange=function(t){var n=t.target,r=n.name,a=n.value,c=n.id;if("ingredients"===r){var i=e.state.ingredients;i.forEach((function(e,t){e.ingredientId===c&&(i[t].quantity=a)})),e.setState(Object(j.a)({},r,i))}else if("recipePackaging"===r){var s=e.state.recipePackaging;s.forEach((function(e,t){e.packagingId===c&&(s[t].quantity=a)})),e.setState(Object(j.a)({},r,s))}},e.loadAllBrands=function(){w.getAllBrands().then((function(t){t&&e.setState({allBrands:t})}))},e.loadAllIngredients=function(){J.getAllIngredients().then((function(t){if(t){var n=[];t.forEach((function(e){n.push({ingredientId:e._id,quantity:0})})),e.setState({allIngredients:t,ingredients:n})}}))},e.loadAllPackagings=function(){te.getAllPackagings().then((function(t){if(t){var n=[];t.forEach((function(e){n.push({packagingId:e._id,quantity:0})})),e.setState({allPackagings:t,recipePackaging:n})}}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.loadAllBrands(),this.loadAllIngredients(),this.loadAllPackagings()}},{key:"render",value:function(){var e=this,t=this.state,n=t.name,r=t.price,a=t.picture,c=t.ingredients,i=t.recipePackaging,s=t.allBrands,o=t.allIngredients,l=t.allPackagings;return Object(f.jsx)("div",{className:"flex",children:Object(f.jsxs)("form",{className:"form",onSubmit:this.handleFormSubmit,children:[Object(f.jsx)("label",{children:"Recipe name:"}),Object(f.jsx)("input",{type:"text",name:"name",value:n,onChange:this.handleChange}),Object(f.jsx)("label",{children:"Recipe picture:"}),Object(f.jsx)("input",{type:"text",name:"picture",value:a,onChange:this.handleChange}),Object(f.jsx)("label",{children:"Price:"}),Object(f.jsx)("input",{type:"number",name:"price",value:r,onChange:this.handleChange}),Object(f.jsxs)("div",{className:"checkboxes-list",children:[Object(f.jsxs)("div",{className:"radio",children:[Object(f.jsx)("label",{children:"Brands:"}),s.map((function(t){return Object(f.jsxs)("div",{children:[Object(f.jsx)("input",{type:"radio",id:t.name,name:"brandId",value:t._id,onChange:e.handleChange}),Object(f.jsx)("label",{for:t.name,children:t.name})]},t._id)}))]}),Object(f.jsxs)("div",{className:"radio",children:[Object(f.jsx)("label",{children:"Ingredients:"}),c.map((function(t){return Object(f.jsxs)("div",{children:[Object(f.jsx)("label",{for:t.ingredientId,children:o.find((function(e){return e._id===t.ingredientId})).name}),Object(f.jsx)("input",{type:"number",id:t.ingredientId,name:"ingredients",value:t.quantity,onChange:e.handleArrChange})]},t.ingredientId)}))]}),Object(f.jsxs)("div",{className:"radio",children:[Object(f.jsx)("label",{children:"Packagings:"}),i.map((function(t){return Object(f.jsxs)("div",{children:[Object(f.jsx)("label",{for:t.packagingId,children:l.find((function(e){return e._id===t.packagingId})).name}),Object(f.jsx)("input",{type:"number",id:t.packagingId,name:"recipePackaging",value:t.quantity,onChange:e.handleArrChange})]},t.packagingId)}))]})]}),Object(f.jsx)("input",{type:"submit",value:"Create recipe"})]})})}}]),n}(r.Component),ae=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={services:["order","recipe","ingredient","packaging","brand","user"],orderShow:!1,recipeShow:!1,ingredientShow:!1,packagingShow:!1,brandShow:!1,userShow:!1},e.handleClick=function(t){var n=t.target.name;e.setState({orderShow:!1,recipeShow:!1,ingredientShow:!1,packagingShow:!1,brandShow:!1,userShow:!1}),e.setState(Object(j.a)({},n,!e.state[n]))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.services,r=t.orderShow,a=t.recipeShow,c=t.ingredientShow,i=t.packagingShow,s=t.brandShow,o=t.userShow;return Object(f.jsxs)("div",{className:"create",children:[Object(f.jsx)("div",{className:"services",children:n.map((function(t){return Object(f.jsx)("button",{className:"title",onClick:e.handleClick,name:"".concat(t,"Show"),children:t.toUpperCase()},t)}))}),o?Object(f.jsx)(V,{}):Object(f.jsx)(f.Fragment,{}),s?Object(f.jsx)(Q,{}):Object(f.jsx)(f.Fragment,{}),c?Object(f.jsx)($,{}):Object(f.jsx)(f.Fragment,{}),r?Object(f.jsx)(ee,{}):Object(f.jsx)(f.Fragment,{}),i?Object(f.jsx)(ne,{}):Object(f.jsx)(f.Fragment,{}),a?Object(f.jsx)(re,{}):Object(f.jsx)(f.Fragment,{})]})}}]),n}(r.Component),ce=k(function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(f.jsxs)("div",{children:[Object(f.jsx)("h1",{children:"OrderDetails Route"}),Object(f.jsxs)("h2",{children:["Welcome ",this.props.user&&this.props.user.username]})]})}}]),n}(r.Component)),ie=k(function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(f.jsxs)("div",{children:[Object(f.jsx)("h1",{children:"UserDetails Route"}),Object(f.jsxs)("h2",{children:["Welcome ",this.props.user&&this.props.user.username]})]})}}]),n}(r.Component)),se=k(function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(f.jsxs)("div",{children:[Object(f.jsx)("h1",{children:"RecipeDetails Route"}),Object(f.jsxs)("h2",{children:["Welcome ",this.props.user&&this.props.user.username]})]})}}]),n}(r.Component)),oe=(n(236),k(function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={name:"",currentStock:0,minimum:0,priceKg:0},e.loadIngredient=function(){var t=e.props.match.params.id;console.log("id",t),J.getIngredientById(t).then((function(t){e.setState({name:t.name,currentStock:t.currentStock,minimum:t.minimum,priceKg:t.priceKg}),console.log("this.state",e.state)}))},e.handleFormSubmit=function(t){t.preventDefault();var n=e.state,r=n.name,a=n.currentStock,c=n.minimum,i=n.priceKg,s=e.props.match.params.id;J.updateIngredient(s,r,a,c,i),e.setState({name:r,currentStock:a,minimum:c,priceKg:i})},e.handleChange=function(t){var n=t.target,r=n.name,a=n.value;e.setState(Object(j.a)({},r,a))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.loadIngredient()}},{key:"render",value:function(){var e=this.state,t=e.name,n=e.currentStock,r=e.minimum,a=e.priceKg;return Object(f.jsx)("div",{className:"edit-card",children:Object(f.jsxs)("form",{className:"form",onSubmit:this.handleFormSubmit,children:[Object(f.jsx)("label",{children:Object(f.jsx)("h1",{children:t})}),Object(f.jsx)("label",{children:"Current stock:"}),Object(f.jsx)("input",{type:"number",name:"currentStock",value:n,onChange:this.handleChange}),Object(f.jsx)("label",{children:"Minimum stock:"}),Object(f.jsx)("input",{type:"number",name:"minimum",value:r,onChange:this.handleChange}),Object(f.jsx)("label",{children:"Price/Kg:"}),Object(f.jsx)("input",{type:"number",name:"priceKg",value:a,onChange:this.handleChange}),Object(f.jsx)("input",{type:"submit",value:"Edit ingredient"})]})})}}]),n}(r.Component))),le=k(function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(f.jsxs)("div",{children:[Object(f.jsx)("h1",{children:"PackagingDetails Route"}),Object(f.jsxs)("h2",{children:["Welcome ",this.props.user&&this.props.user.username]})]})}}]),n}(r.Component)),ue=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(f.jsxs)("div",{children:[Object(f.jsx)("h1",{children:"BrandDetails Route"}),Object(f.jsxs)("h2",{children:["Welcome ",this.props.user&&this.props.user.username]})]})}}]),n}(r.Component),de=(n(237),n.p+"static/media/leaf-logo.cd0873dd.png"),he=k(function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.user,n=e.logout,r=e.isLoggedIn,a=e.isAdmin;return Object(f.jsxs)("nav",{className:"navbar flexsb",children:[Object(f.jsxs)("div",{className:"flex",children:[Object(f.jsx)("img",{src:de,alt:"logo",id:"logo"}),Object(f.jsx)(s.b,{to:"/",id:"home-btn",children:Object(f.jsx)("h4",{children:"GASTRO-EXPERIENCE"})})]}),r?Object(f.jsxs)(f.Fragment,{children:[a?Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(s.b,{to:"/dark-manager/home",id:"dark-manager-btn",className:"nav-link",children:"Dark Manager"})}):Object(f.jsx)(f.Fragment,{children:" "}),Object(f.jsxs)("div",{className:"flex",children:[Object(f.jsxs)("p",{children:[t.name.firstName," ",t.name.lastName]}),Object(f.jsx)(s.b,{to:"/",children:Object(f.jsx)("button",{className:"navbar-button button is-success",onClick:n,children:"Logout"})})]})]}):Object(f.jsxs)("div",{className:"flex",children:[Object(f.jsxs)(s.b,{to:"/login",children:[Object(f.jsx)("button",{className:"navbar-button button is-success",children:"Login"})," "]}),Object(f.jsx)("br",{}),Object(f.jsxs)(s.b,{to:"/signup",children:[Object(f.jsx)("button",{className:"navbar-button",children:"Sign Up"})," "]})]})]})}}]),n}(r.Component));var je=k((function(e){var t=e.isLoggedIn,n=e.isLoading,r=e.component,a=e.exact,c=e.path;return n?"Loading":Object(f.jsx)(h.b,{exact:a,path:c,render:function(e){return t?Object(f.jsx)(h.a,{to:"/"}):t?void 0:Object(f.jsx)(r,Object(p.a)({},e))}})}));var pe=k((function(e){var t=e.isLoggedIn,n=e.isLoading,r=e.component,a=e.exact,c=e.path;return n?"Loading":Object(f.jsx)(h.b,{exact:a,path:c,render:function(e){return t?t?Object(f.jsx)(r,Object(p.a)({},e)):void 0:Object(f.jsx)(h.a,{to:"/login"})}})}));var be=k((function(e){var t=e.isLoggedIn,n=e.isLoading,r=e.component,a=e.exact,c=e.path;return n?"Loading":Object(f.jsx)(h.b,{exact:a,path:c,render:function(e){return t?t?Object(f.jsx)(r,Object(p.a)({},e)):void 0:Object(f.jsx)(h.a,{to:"/dark-manager/login"})}})})),ge=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(f.jsxs)("div",{className:"container",children:[Object(f.jsx)(he,{}),Object(f.jsxs)(h.d,{children:[Object(f.jsx)(je,{exact:!0,path:"/login",component:C}),Object(f.jsx)(je,{exact:!0,path:"/signup",component:S}),Object(f.jsx)(h.b,{exact:!0,path:"/",component:I}),Object(f.jsx)(pe,{exact:!0,path:"/checkout",component:L}),Object(f.jsx)(pe,{exact:!0,path:"/profile/:userId",component:A}),Object(f.jsx)(h.b,{exact:!0,path:"/:nameUrl",component:R}),Object(f.jsx)(be,{exact:!0,path:"/dark-manager/home",component:F})," ",Object(f.jsx)(be,{exact:!0,path:"/dark-manager/orders",component:Z}),Object(f.jsx)(be,{exact:!0,path:"/dark-manager/stock",component:G}),Object(f.jsx)(be,{exact:!0,path:"/dark-manager/stats",component:X}),Object(f.jsx)(be,{exact:!0,path:"/dark-manager/create",component:ae}),Object(f.jsx)(be,{exact:!0,path:"/dark-manager/order/:id",component:ce}),Object(f.jsx)(be,{exact:!0,path:"/dark-manager/user/:id",component:ie}),Object(f.jsx)(be,{exact:!0,path:"/dark-manager/recipe/:id",component:se}),Object(f.jsx)(be,{exact:!0,path:"/dark-manager/ingredient/:id",component:oe}),Object(f.jsx)(be,{exact:!0,path:"/dark-manager/packaging/:id",component:le}),Object(f.jsx)(be,{exact:!0,path:"/dark-manager/brand/:id",component:ue})]})]})}}]),n}(r.Component);i.a.render(Object(f.jsx)(s.a,{children:Object(f.jsx)(y,{children:Object(f.jsx)(ge,{})})}),document.getElementById("root"))},24:function(e,t,n){},37:function(e,t,n){},92:function(e,t,n){},93:function(e,t,n){}},[[238,1,2]]]);
//# sourceMappingURL=main.00ddd7e0.chunk.js.map